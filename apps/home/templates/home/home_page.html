{% extends "base.html" %}

<!-- load wagtailcore_tags by adding this: -->
{% load wagtailsettings_tags %}
{% get_settings %}

<!-- replace everything below with: -->
{% block content %}
  <section class="relative min-h-screen flex items-center justify-center bg-neutral-950 text-white overflow-hidden">

    <!-- Background accent glow -->
    <div class="absolute inset-0">
      <div class="absolute -top-40 -right-40 w-96 h-96 bg-emerald-500/20 rounded-full blur-3xl"></div>
      <div class="absolute bottom-0 left-0 w-72 h-72 bg-emerald-400/10 rounded-full blur-2xl"></div>
    </div>

    <div class="relative z-10 mx-auto max-w-5xl px-6 text-center">
      {% if page.hero_image %}
        <div class="mb-10 flex justify-center">
          <img src="{{ page.hero_image.file.url }}"
               alt="{{ page.hero_title }}"
               class="w-40 h-40 object-cover rounded-full border-4 border-emerald-500 shadow-2xl shadow-emerald-500/20" />
        </div>
      {% endif %}

      <h1 class="text-4xl sm:text-6xl lg:text-7xl font-bold tracking-tight mb-6">{{ page.hero_title }}</h1>

      <p class="text-xl sm:text-2xl text-emerald-400 font-medium mb-6">{{ page.hero_role }}</p>

      <div class="mt-10 flex justify-center gap-6 mb-6">
        {% for block in settings.core.SiteSocialSettings.social_links %}
          <a href="{{ block.value.url }}"
             target="_blank"
             rel="noopener noreferrer"
             class="group flex items-center gap-2 text-neutral-400 hover:text-emerald-400 transition-colors duration-300">

            <i data-lucide="{{ block.value.icon }}"
               class="w-5 h-5 transition-transform duration-300 group-hover:scale-110">
            </i>

            <span class="text-sm hidden sm:inline">{{ block.value.name }}</span>

          </a>
        {% endfor %}
      </div>

      <nav class="flex items-center justify-center gap-10 text-sm font-medium text-neutral-300 p-5">
        {% for item in settings.core.SiteNavigationSettings.navigation_links.all %}
          <a href="{{ item.link }}"
             class="hover:text-emerald-400 transition-colors">{{ item.title }}</a>
        {% endfor %}
      </nav>
    </div>
  </section>

  <section class="bg-neutral-950 text-neutral-200 py-32 border-t border-neutral-800">
    <div class="mx-auto max-w-4xl px-6">

      {% for block in page.about_content %}
        {% if block.block_type == "heading" %}
          <h2 class="text-3xl sm:text-4xl font-bold tracking-tight text-white mb-12">
            <span class="text-emerald-500">#</span>
            {{ block.value }}
          </h2>
        {% elif block.block_type == "paragraph" %}
          <div class="prose prose-invert prose-neutral max-w-none mb-10 prose-p:text-neutral-300 prose-a:text-purple-400 [&_b]:text-emerald-400">
            {{ block.value }}
          </div>
        {% elif block.block_type == "image" %}
          <div class="my-16">
            <img src="{{ block.value.file.url }}"
                 class="rounded-2xl shadow-xl shadow-emerald-500/10" />
          </div>
        {% elif block.block_type == "quote" %}
          <blockquote class="border-l-4 border-emerald-500 pl-6 italic text-lg text-neutral-300 my-16">
            {{ block.value }}
          </blockquote>
        {% endif %}
      {% endfor %}
    </div>
  </section>

  <section class="bg-neutral-950 text-white py-32 border-t border-neutral-800">
    <div class="mx-auto max-w-6xl px-6">

      <!-- Section Header -->
      <div class="flex items-end justify-between mb-16">
        <h2 class="text-3xl sm:text-4xl font-bold tracking-tight">
          <span class="text-emerald-500">#</span> Projects
        </h2>

        <a href="/projects"
           class="text-sm font-medium text-emerald-400 hover:text-emerald-300 transition-colors">View all â†’</a>
      </div>

      <!-- Grid -->
      <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-10">

        {% for project in page.featured_projects.all %}
          <a href="{{ project.url }}"
             class="group block bg-neutral-900/60 backdrop-blur-sm border border-neutral-800 rounded-2xl overflow-hidden hover:border-emerald-500/40 transition-all duration-300">

            <!-- Cover -->
            {% if project.cover_image %}
              <div class="relative overflow-hidden">
                <img src="{{ project.cover_image.file.url }}"
                     class="w-full h-52 object-cover group-hover:scale-105 transition-transform duration-500" />

                <div class="absolute inset-0 bg-linear-to-t from-neutral-950 via-neutral-950/20 to-transparent"></div>
              </div>
            {% endif %}

            <!-- Content -->
            <div class="p-6">

              <h3 class="text-xl font-semibold mb-3 group-hover:text-emerald-400 transition-colors">{{ project.title }}</h3>

              <p class="text-neutral-400 text-sm leading-relaxed mb-5">{{ project.description|truncatewords:20 }}</p>

              <!-- Skills -->
              <div class="flex flex-wrap gap-2">
                {% for skill in project.skills.all %}
                  <span class="px-3 py-1 text-xs font-medium rounded-full transition-transform duration-200 group-hover:scale-105"
                        style="color: {{ skill.color }};
                               background-color: {{ skill.color }}30;
                               border: 1px solid {{ skill.color }}">{{ skill.name }}</span>
                {% endfor %}
              </div>

            </div>

          </a>
        {% endfor %}

      </div>

    </div>
  </section>

  <footer class="bg-neutral-950 border-t border-neutral-800">
    <div class="mx-auto max-w-6xl p-6">
      <div class="flex items-start justify-between">
        <nav class="flex gap-5 text-sm font-medium text-neutral-300">
          {% for item in settings.core.SiteNavigationSettings.navigation_links.all %}
            <a href="{{ item.link }}"
               class="hover:text-emerald-400 transition-colors">{{ item.title }}</a>
          {% endfor %}
        </nav>

        <div class="flex justify-center gap-6">
          {% for block in settings.core.SiteSocialSettings.social_links %}
            <a href="{{ block.value.url }}"
               target="_blank"
               rel="noopener noreferrer"
               class="group flex items-center gap-2 text-neutral-400 hover:text-emerald-400 transition-colors duration-300">

              <i data-lucide="{{ block.value.icon }}"
                 class="w-5 h-5 transition-transform duration-300 group-hover:scale-110">
              </i>

            </a>
          {% endfor %}
        </div>
      </div>
    </div>
  </footer>
{% endblock content %}

{% block extra_js %}
  <script src="//unpkg.com/lucide@0.575.0"></script>
  <script>lucide.createIcons();</script>
{% endblock extra_js %}
